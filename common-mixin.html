<script>
  'use strict';
  /* exported EtoolsUploadCommon */
  /**
   * @polymer
   * @mixinFunction
   */
  const EtoolsUploadCommon = baseClass => class extends (baseClass) {
    static get properties() {
      return {
        uploadInProgress: {
          type: Boolean,
          value: false,
          notify: true
        },
        label: {
          type: String,
          value: ''
        },
        required: {
          type: Boolean,
          value: false,
          reflectToAttribute: true
        },
        readonly: {
          type: Boolean,
          value: false,
          reflectToAttribute: true
        },
        accept: String,
        autoUpload: {
          type: Boolean,
          value: true
        },
        disabled: {
          type: Boolean,
          value: false,
          reflectToAttribute: true
        },
        invalid: {
          type: Boolean,
          value: false,
          reflectToAttribute: true
        },
        autoValidate: {
          type: Boolean,
          value: false,
          reflectToAttribute: true
        },
        errorMessage: {
          type: String,
          value: ''
        }
      };
    }

    _showLabel(label) {
      return label !== '';
    }

    _openFileChooser() {
      const fileEl = this.$.fileInput;
      if (fileEl) {
        fileEl.dispatchEvent(new MouseEvent('click', {bubbles: true, cancelable: true, view: window}));
        // fileEl.click();
      }
    }

    fireEvent(evName, detail) {
      this.dispatchEvent(new CustomEvent(evName, {
        detail: detail,
        bubbles: true,
        composed: true
      }));
    }

  };
</script>
